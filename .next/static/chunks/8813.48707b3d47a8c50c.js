"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8813],{8813:function(e,O,t){t.r(O),t.d(O,{autoCloseTags:function(){return d},completeFromSchema:function(){return completeFromSchema},xml:function(){return xml},xmlLanguage:function(){return q}});var o=t(3105),n=t(5524);let r=null,l=null,a=0;function tagNameAfter(e,O){var t;let o=e.pos+O;if(l==e&&a==o)return r;for(;9==(t=e.peek(O))||10==t||13==t||32==t;)O++;let n="";for(;;){let t=e.peek(O);if(!(45==t||46==t||58==t||t>=65&&t<=90||95==t||t>=97&&t<=122||t>=161))break;n+=String.fromCharCode(t),O++}return l=e,a=o,r=n||null}function ElementContext(e,O){this.name=e,this.parent=O}let s=new o.IK({start:null,shift:(e,O,t,o)=>1==O?new ElementContext(tagNameAfter(o,1)||"",e):e,reduce:(e,O)=>11==O&&e?e.parent:e,reuse(e,O,t,o){let n=O.type.id;return 1==n||13==n?new ElementContext(tagNameAfter(o,1)||"",e):e},strict:!1}),i=new o.Jq((e,O)=>{if(60==e.next){if(e.advance(),47==e.next){e.advance();let t=tagNameAfter(e,0);if(!t)return e.acceptToken(5);if(O.context&&t==O.context.name)return e.acceptToken(2);for(let o=O.context;o;o=o.parent)if(o.name==t)return e.acceptToken(3,-2);e.acceptToken(4)}else if(33!=e.next&&63!=e.next)return e.acceptToken(1)}},{contextual:!0});function scanTo(e,O){return new o.Jq(t=>{let o=0,n=O.charCodeAt(0);e:for(;!(t.next<0);t.advance(),o++)if(t.next==n){for(let e=1;e<O.length;e++)if(t.peek(e)!=O.charCodeAt(e))continue e;break}o&&t.acceptToken(e)})}let c=scanTo(36,"-->"),m=scanTo(37,"?>"),p=scanTo(38,"]]>"),$=(0,n.Gv)({Text:n.pJ.content,"StartTag StartCloseTag EndTag SelfCloseEndTag":n.pJ.angleBracket,TagName:n.pJ.tagName,"MismatchedCloseTag/TagName":[n.pJ.tagName,n.pJ.invalid],AttributeName:n.pJ.attributeName,AttributeValue:n.pJ.attributeValue,Is:n.pJ.definitionOperator,"EntityReference CharacterReference":n.pJ.character,Comment:n.pJ.blockComment,ProcessingInst:n.pJ.processingInstruction,DoctypeDecl:n.pJ.documentMeta,Cdata:n.pJ.special(n.pJ.string)}),S=o.WQ.deserialize({version:14,states:",lOQOaOOOrOxO'#CfOzOpO'#CiO!tOaO'#CgOOOP'#Cg'#CgO!{OrO'#CrO#TOtO'#CsO#]OpO'#CtOOOP'#DT'#DTOOOP'#Cv'#CvQQOaOOOOOW'#Cw'#CwO#eOxO,59QOOOP,59Q,59QOOOO'#Cx'#CxO#mOpO,59TO#uO!bO,59TOOOP'#C|'#C|O$TOaO,59RO$[OpO'#CoOOOP,59R,59ROOOQ'#C}'#C}O$dOrO,59^OOOP,59^,59^OOOS'#DO'#DOO$lOtO,59_OOOP,59_,59_O$tOpO,59`O$|OpO,59`OOOP-E6t-E6tOOOW-E6u-E6uOOOP1G.l1G.lOOOO-E6v-E6vO%UO!bO1G.oO%UO!bO1G.oO%dOpO'#CkO%lO!bO'#CyO%zO!bO1G.oOOOP1G.o1G.oOOOP1G.w1G.wOOOP-E6z-E6zOOOP1G.m1G.mO&VOpO,59ZO&_OpO,59ZOOOQ-E6{-E6{OOOP1G.x1G.xOOOS-E6|-E6|OOOP1G.y1G.yO&gOpO1G.zO&gOpO1G.zOOOP1G.z1G.zO&oO!bO7+$ZO&}O!bO7+$ZOOOP7+$Z7+$ZOOOP7+$c7+$cO'YOpO,59VO'bOpO,59VO'mO!bO,59eOOOO-E6w-E6wO'{OpO1G.uO'{OpO1G.uOOOP1G.u1G.uO(TOpO7+$fOOOP7+$f7+$fO(]O!bO<<GuOOOP<<Gu<<GuOOOP<<G}<<G}O'bOpO1G.qO'bOpO1G.qO(hO#tO'#CnO(vO&jO'#CnOOOO1G.q1G.qO)UOpO7+$aOOOP7+$a7+$aOOOP<<HQ<<HQOOOPAN=aAN=aOOOPAN=iAN=iO'bOpO7+$]OOOO7+$]7+$]OOOO'#Cz'#CzO)^O#tO,59YOOOO,59Y,59YOOOO'#C{'#C{O)lO&jO,59YOOOP<<G{<<G{OOOO<<Gw<<GwOOOO-E6x-E6xOOOO1G.t1G.tOOOO-E6y-E6y",stateData:")z~OPQOSVOTWOVWOWWOXWOiXOyPO!QTO!SUO~OvZOx]O~O^`Oz^O~OPQOQcOSVOTWOVWOWWOXWOyPO!QTO!SUO~ORdO~P!SOteO!PgO~OuhO!RjO~O^lOz^O~OvZOxoO~O^qOz^O~O[vO`sOdwOz^O~ORyO~P!SO^{Oz^O~OteO!P}O~OuhO!R!PO~O^!QOz^O~O[!SOz^O~O[!VO`sOd!WOz^O~Oa!YOz^O~Oz^O[mX`mXdmX~O[!VO`sOd!WO~O^!]Oz^O~O[!_Oz^O~O[!aOz^O~O[!cO`sOd!dOz^O~O[!cO`sOd!dO~Oa!eOz^O~Oz^O{!gO}!hO~Oz^O[ma`madma~O[!kOz^O~O[!lOz^O~O[!mO`sOd!nO~OW!qOX!qO{!sO|!qO~OW!tOX!tO}!sO!O!tO~O[!vOz^O~OW!qOX!qO{!yO|!qO~OW!tOX!tO}!yO!O!tO~O",goto:"%cxPPPPPPPPPPyyP!PP!VPP!`!jP!pyyyP!v!|#S$[$k$q$w$}%TPPPP%ZXWORYbXRORYb_t`qru!T!U!bQ!i!YS!p!e!fR!w!oQdRRybXSORYbQYORmYQ[PRn[Q_QQkVjp_krz!R!T!X!Z!^!`!f!j!oQr`QzcQ!RlQ!TqQ!XsQ!ZtQ!^{Q!`!QQ!f!YQ!j!]R!o!eQu`S!UqrU![u!U!bR!b!TQ!r!gR!x!rQ!u!hR!z!uQbRRxbQfTR|fQiUR!OiSXOYTaRb",nodeNames:"âš  StartTag StartCloseTag MissingCloseTag StartCloseTag StartCloseTag Document Text EntityReference CharacterReference Cdata Element EndTag OpenTag TagName Attribute AttributeName Is AttributeValue CloseTag SelfCloseEndTag SelfClosingTag Comment ProcessingInst MismatchedCloseTag DoctypeDecl",maxTerm:50,context:s,nodeProps:[["closedBy",1,"SelfCloseEndTag EndTag",13,"CloseTag MissingCloseTag"],["openedBy",12,"StartTag StartCloseTag",19,"OpenTag",20,"StartTag"],["isolate",-6,13,18,19,21,22,24,""]],propSources:[$],skippedNodes:[0],repeatNodeCount:9,tokenData:"!)v~R!YOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs*vsv$qvw+fwx/ix}$q}!O0[!O!P$q!P!Q2z!Q![$q![!]4n!]!^$q!^!_8U!_!`!#t!`!a!$l!a!b!%d!b!c$q!c!}4n!}#P$q#P#Q!'W#Q#R$q#R#S4n#S#T$q#T#o4n#o%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U$q4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qi$zXVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qa%nVVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%gP&YTVPOv&Tw!^&T!_;'S&T;'S;=`&i<%lO&TP&lP;=`<%l&T`&tS!O`Ov&ox;'S&o;'S;=`'Q<%lO&o`'TP;=`<%l&oa'ZP;=`<%l%gX'eWVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^W(ST|WOr'}sv'}w;'S'};'S;=`(c<%lO'}W(fP;=`<%l'}X(lP;=`<%l'^h(vV|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oh)`P;=`<%l(oi)fP;=`<%l$qo)t`VP|W!O`zUOX$qXY)iYZ)iZ]$q]^)i^p$qpq)iqr$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk+PV{YVP!O`Ov%gwx&Tx!^%g!^!_&o!_;'S%g;'S;=`'W<%lO%g~+iast,n![!]-r!c!}-r#R#S-r#T#o-r%W%o-r%p&a-r&b1p-r4U4d-r4e$IS-r$I`$Ib-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~,qQ!Q![,w#l#m-V~,zQ!Q![,w!]!^-Q~-VOX~~-YR!Q![-c!c!i-c#T#Z-c~-fS!Q![-c!]!^-Q!c!i-c#T#Z-c~-ug}!O-r!O!P-r!Q![-r![!]-r!]!^/^!c!}-r#R#S-r#T#o-r$}%O-r%W%o-r%p&a-r&b1p-r1p4U-r4U4d-r4e$IS-r$I`$Ib-r$Je$Jg-r$Kh%#t-r&/x&Et-r&FV;'S-r;'S;:j/c?&r?Ah-r?BY?Mn-r~/cOW~~/fP;=`<%l-rk/rW}bVP|WOr'^rs&Tsv'^w!^'^!^!_'}!_;'S'^;'S;=`(i<%lO'^k0eZVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O1W!O!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk1aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a2S!a;'S$q;'S;=`)c<%lO$qk2_X!PQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qm3TZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a3v!a;'S$q;'S;=`)c<%lO$qm4RXdSVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo4{!P`S^QVP|W!O`Or$qrs%gsv$qwx'^x}$q}!O4n!O!P4n!P!Q$q!Q![4n![!]4n!]!^$q!^!_(o!_!c$q!c!}4n!}#R$q#R#S4n#S#T$q#T#o4n#o$}$q$}%O4n%O%W$q%W%o4n%o%p$q%p&a4n&a&b$q&b1p4n1p4U4n4U4d4n4d4e$q4e$IS4n$IS$I`$q$I`$Ib4n$Ib$Je$q$Je$Jg4n$Jg$Kh$q$Kh%#t4n%#t&/x$q&/x&Et4n&Et&FV$q&FV;'S4n;'S;:j8O;:j;=`)c<%l?&r$q?&r?Ah4n?Ah?BY$q?BY?Mn4n?MnO$qo8RP;=`<%l4ni8]Y|W!O`Oq(oqr8{rs&osv(owx'}x!a(o!a!b!#U!b;'S(o;'S;=`)]<%lO(oi9S_|W!O`Or(ors&osv(owx'}x}(o}!O:R!O!f(o!f!g;e!g!}(o!}#ODh#O#W(o#W#XLp#X;'S(o;'S;=`)]<%lO(oi:YX|W!O`Or(ors&osv(owx'}x}(o}!O:u!O;'S(o;'S;=`)]<%lO(oi;OV!QP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oi;lX|W!O`Or(ors&osv(owx'}x!q(o!q!r<X!r;'S(o;'S;=`)]<%lO(oi<`X|W!O`Or(ors&osv(owx'}x!e(o!e!f<{!f;'S(o;'S;=`)]<%lO(oi=SX|W!O`Or(ors&osv(owx'}x!v(o!v!w=o!w;'S(o;'S;=`)]<%lO(oi=vX|W!O`Or(ors&osv(owx'}x!{(o!{!|>c!|;'S(o;'S;=`)]<%lO(oi>jX|W!O`Or(ors&osv(owx'}x!r(o!r!s?V!s;'S(o;'S;=`)]<%lO(oi?^X|W!O`Or(ors&osv(owx'}x!g(o!g!h?y!h;'S(o;'S;=`)]<%lO(oi@QY|W!O`Or?yrs@psv?yvwA[wxBdx!`?y!`!aCr!a;'S?y;'S;=`Db<%lO?ya@uV!O`Ov@pvxA[x!`@p!`!aAy!a;'S@p;'S;=`B^<%lO@pPA_TO!`A[!`!aAn!a;'SA[;'S;=`As<%lOA[PAsOiPPAvP;=`<%lA[aBQSiP!O`Ov&ox;'S&o;'S;=`'Q<%lO&oaBaP;=`<%l@pXBiX|WOrBdrsA[svBdvwA[w!`Bd!`!aCU!a;'SBd;'S;=`Cl<%lOBdXC]TiP|WOr'}sv'}w;'S'};'S;=`(c<%lO'}XCoP;=`<%lBdiC{ViP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiDeP;=`<%l?yiDoZ|W!O`Or(ors&osv(owx'}x!e(o!e!fEb!f#V(o#V#WIr#W;'S(o;'S;=`)]<%lO(oiEiX|W!O`Or(ors&osv(owx'}x!f(o!f!gFU!g;'S(o;'S;=`)]<%lO(oiF]X|W!O`Or(ors&osv(owx'}x!c(o!c!dFx!d;'S(o;'S;=`)]<%lO(oiGPX|W!O`Or(ors&osv(owx'}x!v(o!v!wGl!w;'S(o;'S;=`)]<%lO(oiGsX|W!O`Or(ors&osv(owx'}x!c(o!c!dH`!d;'S(o;'S;=`)]<%lO(oiHgX|W!O`Or(ors&osv(owx'}x!}(o!}#OIS#O;'S(o;'S;=`)]<%lO(oiI]V|W!O`yPOr(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(oiIyX|W!O`Or(ors&osv(owx'}x#W(o#W#XJf#X;'S(o;'S;=`)]<%lO(oiJmX|W!O`Or(ors&osv(owx'}x#T(o#T#UKY#U;'S(o;'S;=`)]<%lO(oiKaX|W!O`Or(ors&osv(owx'}x#h(o#h#iK|#i;'S(o;'S;=`)]<%lO(oiLTX|W!O`Or(ors&osv(owx'}x#T(o#T#UH`#U;'S(o;'S;=`)]<%lO(oiLwX|W!O`Or(ors&osv(owx'}x#c(o#c#dMd#d;'S(o;'S;=`)]<%lO(oiMkX|W!O`Or(ors&osv(owx'}x#V(o#V#WNW#W;'S(o;'S;=`)]<%lO(oiN_X|W!O`Or(ors&osv(owx'}x#h(o#h#iNz#i;'S(o;'S;=`)]<%lO(oi! RX|W!O`Or(ors&osv(owx'}x#m(o#m#n! n#n;'S(o;'S;=`)]<%lO(oi! uX|W!O`Or(ors&osv(owx'}x#d(o#d#e!!b#e;'S(o;'S;=`)]<%lO(oi!!iX|W!O`Or(ors&osv(owx'}x#X(o#X#Y?y#Y;'S(o;'S;=`)]<%lO(oi!#_V!SP|W!O`Or(ors&osv(owx'}x;'S(o;'S;=`)]<%lO(ok!$PXaQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qo!$wX[UVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!%mZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!&`!a;'S$q;'S;=`)c<%lO$qk!&kX!RQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$qk!'aZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_#P$q#P#Q!(S#Q;'S$q;'S;=`)c<%lO$qk!(]ZVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_!`$q!`!a!)O!a;'S$q;'S;=`)c<%lO$qk!)ZXxQVP|W!O`Or$qrs%gsv$qwx'^x!^$q!^!_(o!_;'S$q;'S;=`)c<%lO$q",tokenizers:[i,c,m,p,0,1,2,3,4],topRules:{Document:[0,6]},tokenPrec:0});var u=t(9119),g=t(7205),x=t(7421);function tagName(e,O){let t=O&&O.getChild("TagName");return t?e.sliceString(t.from,t.to):""}function elementName$1(e,O){let t=O&&O.firstChild;return t&&"OpenTag"==t.name?tagName(e,t):""}function findParentElement(e){for(let O=e&&e.parent;O;O=O.parent)if("Element"==O.name)return O;return null}let dist_Element=class dist_Element{constructor(e,O,t){this.attrs=O,this.attrValues=t,this.children=[],this.name=e.name,this.completion=Object.assign(Object.assign({type:"type"},e.completion||{}),{label:this.name}),this.openCompletion=Object.assign(Object.assign({},this.completion),{label:"<"+this.name}),this.closeCompletion=Object.assign(Object.assign({},this.completion),{label:"</"+this.name+">",boost:2}),this.closeNameCompletion=Object.assign(Object.assign({},this.completion),{label:this.name+">"}),this.text=e.textContent?e.textContent.map(e=>({label:e,type:"text"})):[]}};let f=/^[:\-\.\w\u00b7-\uffff]*$/;function attrCompletion(e){return Object.assign(Object.assign({type:"property"},e.completion||{}),{label:e.name})}function valueCompletion(e){return"string"==typeof e?{label:`"${e}"`,type:"constant"}:/^"/.test(e.label)?e:Object.assign(Object.assign({},e),{label:`"${e.label}"`})}function completeFromSchema(e,O){let t=[],o=[],n=Object.create(null);for(let e of O){let O=attrCompletion(e);t.push(O),e.global&&o.push(O),e.values&&(n[e.name]=e.values.map(valueCompletion))}let r=[],l=[],a=Object.create(null);for(let O of e){let e=o,s=n;O.attributes&&(e=e.concat(O.attributes.map(e=>"string"==typeof e?t.find(O=>O.label==e)||{label:e,type:"property"}:(e.values&&(s==n&&(s=Object.create(s)),s[e.name]=e.values.map(valueCompletion)),attrCompletion(e)))));let i=new dist_Element(O,e,s);a[i.name]=i,r.push(i),O.top&&l.push(i)}l.length||(l=r);for(let O=0;O<r.length;O++){let t=e[O],o=r[O];if(t.children)for(let e of t.children)a[e]&&o.children.push(a[e]);else o.children=r}return e=>{var O;let{doc:t}=e.state,s=function(e,O){var t;let o=(0,u.qz)(e).resolveInner(O,-1),n=null;for(let e=o;!n&&e.parent;e=e.parent)("OpenTag"==e.name||"CloseTag"==e.name||"SelfClosingTag"==e.name||"MismatchedCloseTag"==e.name)&&(n=e);if(n&&(n.to>O||n.lastChild.type.isError)){let e=n.parent;if("TagName"==o.name)return"CloseTag"==n.name||"MismatchedCloseTag"==n.name?{type:"closeTag",from:o.from,context:e}:{type:"openTag",from:o.from,context:findParentElement(e)};if("AttributeName"==o.name)return{type:"attrName",from:o.from,context:n};if("AttributeValue"==o.name)return{type:"attrValue",from:o.from,context:n};let t=o==n||"Attribute"==o.name?o.childBefore(O):o;return(null==t?void 0:t.name)=="StartTag"?{type:"openTag",from:O,context:findParentElement(e)}:(null==t?void 0:t.name)=="StartCloseTag"&&t.to<=O?{type:"closeTag",from:O,context:e}:(null==t?void 0:t.name)=="Is"?{type:"attrValue",from:O,context:n}:t?{type:"attrName",from:O,context:n}:null}if("StartCloseTag"==o.name)return{type:"closeTag",from:O,context:o.parent};for(;o.parent&&o.to==O&&!(null===(t=o.lastChild)||void 0===t?void 0:t.type.isError);)o=o.parent;return"Element"==o.name||"Text"==o.name||"Document"==o.name?{type:"tag",from:O,context:"Element"==o.name?o:findParentElement(o)}:null}(e.state,e.pos);if(!s||"tag"==s.type&&!e.explicit)return null;let{type:i,from:c,context:m}=s;if("openTag"==i){let e=l,O=elementName$1(t,m);if(O){let t=a[O];e=(null==t?void 0:t.children)||r}return{from:c,options:e.map(e=>e.completion),validFor:f}}if("closeTag"==i){let o=elementName$1(t,m);return o?{from:c,to:e.pos+(">"==t.sliceString(e.pos,e.pos+1)?1:0),options:[(null===(O=a[o])||void 0===O?void 0:O.closeNameCompletion)||{label:o+">",type:"type"}],validFor:f}:null}if("attrName"==i){let e=a[tagName(t,m)];return{from:c,options:(null==e?void 0:e.attrs)||o,validFor:f}}if("attrValue"==i){let O,o;let r=(o=(O=m&&m.getChildren("Attribute").find(e=>e.from<=c&&e.to>=c))&&O.getChild("AttributeName"))?t.sliceString(o.from,o.to):"";if(!r)return null;let l=a[tagName(t,m)],s=((null==l?void 0:l.attrValues)||n)[r];return s&&s.length?{from:c,to:e.pos+('"'==t.sliceString(e.pos,e.pos+1)?1:0),options:s,validFor:/^"[^"]*"?$/}:null}{if("tag"!=i)return null;let O=elementName$1(t,m),o=a[O],n=[],s=m&&m.lastChild;O&&(!s||"CloseTag"!=s.name||tagName(t,s)!=O)&&n.push(o?o.closeCompletion:{label:"</"+O+">",type:"type",boost:2});let p=n.concat(((null==o?void 0:o.children)||(m?r:l)).map(e=>e.openCompletion));if(m&&(null==o?void 0:o.text.length)){let O=m.firstChild;O.to>e.pos-20&&!/\S/.test(e.state.sliceDoc(O.to,e.pos))&&(p=p.concat(o.text))}return{from:c,options:p,validFor:/^<\/?[:\-\.\w\u00b7-\uffff]*$/}}}}let q=u.qp.define({name:"xml",parser:S.configure({props:[u.uj.add({Element(e){let O=/^\s*<\//.test(e.textAfter);return e.lineIndent(e.node.from)+(O?0:e.unit)},"OpenTag CloseTag SelfClosingTag":e=>e.column(e.node.from)+e.unit}),u.x0.add({Element(e){let O=e.firstChild,t=e.lastChild;return O&&"OpenTag"==O.name?{from:O.to,to:"CloseTag"==t.name?t.from:e.to}:null}}),u.a0.add({"OpenTag CloseTag":e=>e.getChild("TagName")})]}),languageData:{commentTokens:{block:{open:"<!--",close:"-->"}},indentOnInput:/^\s*<\/$/}});function xml(e={}){let O=[q.data.of({autocomplete:completeFromSchema(e.elements||[],e.attributes||[])})];return!1!==e.autoCloseTags&&O.push(d),new u.ri(q,O)}function elementName(e,O,t=e.length){if(!O)return"";let o=O.firstChild,n=o&&o.getChild("TagName");return n?e.sliceString(n.from,Math.min(n.to,t)):""}let d=x.tk.inputHandler.of((e,O,t,o,n)=>{if(e.composing||e.state.readOnly||O!=t||">"!=o&&"/"!=o||!q.isActiveAt(e.state,O,-1))return!1;let r=n(),{state:l}=r,a=l.changeByRange(e=>{var O,t,n;let{head:r}=e,a=l.doc.sliceString(r-1,r)==o,s=(0,u.qz)(l).resolveInner(r,-1),i;if(a&&">"==o&&"EndTag"==s.name){let o=s.parent;if((null===(t=null===(O=o.parent)||void 0===O?void 0:O.lastChild)||void 0===t?void 0:t.name)!="CloseTag"&&(i=elementName(l.doc,o.parent,r))){let O=r+(">"===l.doc.sliceString(r,r+1)?1:0);return{range:e,changes:{from:r,to:O,insert:`</${i}>`}}}}else if(a&&"/"==o&&"StartCloseTag"==s.name){let e=s.parent;if(s.from==r-2&&(null===(n=e.lastChild)||void 0===n?void 0:n.name)!="CloseTag"&&(i=elementName(l.doc,e,r))){let e=r+(">"===l.doc.sliceString(r,r+1)?1:0),O=`${i}>`;return{range:g.jT.cursor(r+O.length,-1),changes:{from:r,to:e,insert:O}}}}return{range:e}});return!a.changes.empty&&(e.dispatch([r,l.update(a,{userEvent:"input.complete",scrollIntoView:!0})]),!0)})}}]);